global xlist numinv numstartup numfirstround avgagefirstinv avground avgroundfirstinv percsyndfirstinv avgcultdistcs numipo numipoma percsubsidinv percnewind percnewcountry avggeodistcs geoentropy indtotentropy indunrentropy indrelentropy avgivc1 avgivc2 avgfinint1 avgfinint2 avgparent1ivc avgparent2ivc avgparent2finint geodistcp cultdistcp percipoma firstroundfreq medianroundfirstinv percipoma10y reputation reputationipo nummanagers ethnicityentropy percfemalemanagers numalliances20y numstartupallied20y avgalliances20y numalliances5y numstartupallied5y avgalliances5y numalliancesafterinv20y percalliancesafterinv20y numalliancesafterinv5y percalliancesafterinv5y numtechalliances20y perctechalliances20y numtechalliances5y perctechalliances5y numacquisitions20y numacquisitionsinternal20y percacquisitionsinternal20y numacquisitions5y numacquisitionsinternal5y percacquisitionsinternal5y
global id cvcname

global xlist avgagefirstinv avground avgroundfirstinv
pca $xlist
loadingplot

global xlist percnewcountry avggeodistcs geoentropy
pca $xlist
loadingplot

global xlist indtotentropy indunrentropy indrelentropy
pca $xlist
loadingplot

global xlist numinvoutside4digit percinvoutside4digit numinvoutside2digit percinvoutside2digit
pca $xlist
loadingplot

global xlist avgivc1 avgivc2 avgfinint1 avgfinint2 avgparent1ivc avgparent2ivc avgparent2finint
pca $xlist
loadingplot

global xlist cultdistcp geodistcp
pca $xlist
loadingplot

global xlist numalliances20y percalliances20y numstartupallied20y percstartupallied20y avgalliances20y numalliances5y percalliances5y numstartupallied5y percstartupallied5y avgalliances5y
pca $xlist
loadingplot

global xlist numalliancesafterinv20y percalliancesafterinv20y numalliancesafterinv5y percalliancesafterinv5y
pca $xlist
loadingplot



global xlist 
pca $xlist
loadingplot



* ncomp posso cambiare in numero naturalmente.
global ncomp 3

pca $xlist

* Scree plot of the eigenvalues
screeplot
screeplot, yline(1)

* Principal component analysis --> change number of components
pca $xlist, mineigen(1) blanks(.3)
pca $xlist, comp($ncomp) 
pca $xlist, comp($ncomp) blanks(.3)

* in questo caso, quello venuto meglio è 
rotate, varimax
rotate, varimax blanks(.3)
rotate, clear

* in questo caso, quello venuto meglio è 
rotate, promax
rotate, promax blanks(.3)
rotate, clear	


* Scatter plots of the loadings and score variables
loadingplot
scoreplot
scoreplot, mlabel($id)

* Loadings/scores of the components
estat loadings
predict pc1 pc2 pc3 score

* KMO measure of sampling adequacy
estat kmo
